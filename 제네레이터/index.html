<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 4.20.0"/><meta data-react-helmet="true" name="description" content="제네레이터"/><meta data-react-helmet="true" name="viewport" content="width=device-width, initial-scale=1.0"/><meta data-react-helmet="true" http-equiv="Content-Type" content="text/html;charset=UTF-8"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:title" content="generator"/><meta data-react-helmet="true" property="og:description" content="제네레이터"/><meta data-react-helmet="true" property="og:image" content="/static/de219da53c1808c524bfaaad07a73d29/js1.png"/><meta data-react-helmet="true" property="og:url"/><meta data-react-helmet="true" property="og:site_name" content="generator"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:title" content="generator"/><meta data-react-helmet="true" name="twitter:description" content="제네레이터"/><meta data-react-helmet="true" name="twitter:image" content="/static/de219da53c1808c524bfaaad07a73d29/js1.png"/><meta data-react-helmet="true" name="twitter:site" content="@사용자이름"/><meta data-react-helmet="true" name="twitter:creator" content="@사용자이름"/><meta data-react-helmet="true" name="google-site-verification" content="2iQCD8mbMmwhEhQnrYibeMnJCMHXLcP8DgGNFr6cIcM"/><meta data-react-helmet="true" name="naver-site-verification" content="85439973861206f261be8e209d26b2215ded88be"/><style data-href="/styles.811b76fa2f764e4356d7.css" data-identity="gatsby-global-css">code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#ccc;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;hyphens:none;line-height:1.5;-o-tab-size:4;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}</style><title data-react-helmet="true">generator</title><link rel="sitemap" type="application/xml" href="/sitemap/sitemap-index.xml"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="canonical" href="https://imb96.github.io/제네레이터/" data-baseprotocol="https:" data-basehost="imb96.github.io"/></head><body><script>
void function() {
  window.__onThemeChange = function() {}

  var preferredTheme
  try {
    preferredTheme = localStorage.getItem('theme')
  } catch (err) { }

  function setTheme(newTheme) {
    if (preferredTheme && document.body.classList.contains(preferredTheme)) {
      document.body.classList.replace(preferredTheme, newTheme)
    } else {
      document.body.classList.add(newTheme)
    }

    window.__theme = newTheme
    preferredTheme = newTheme
    window.__onThemeChange(newTheme)
  }

  window.__setPreferredTheme = function(newTheme) {
    setTheme(newTheme)
    try {
      localStorage.setItem('theme', newTheme)
    } catch (err) {}
  }

  var darkQuery = window.matchMedia('(prefers-color-scheme: dark)')
  darkQuery.addListener(function(e) {
    window.__setPreferredTheme(e.matches ? 'dark' : 'light')
  })

  setTheme(preferredTheme || (darkQuery.matches ? 'dark' : 'light'))
}()
    </script><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion="css rd560n">.css-rd560n{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:100%;background:#fff9f0;}</style><main class="css-rd560n e1strnqo0"><style data-emotion="css-global 1aslwj7">@import url('https://fonts.googleapis.com/css2?family=Stylish&display=swap');*{padding:0;margin:0;box-sizing:border-box;font-family:'Stylish',sans-serif;}html,body,#___gatsby{height:100%;}.dark{-webkit-font-smoothing:antialiased;background:#231f1f;color:#f2a365;}.dark body{background:#231f1f;}.dark main{background:#231f1f;}.dark footer{background:#231f1f;}.dark .bg{background:#231f1f;color:#f2a365;}.dark .postHead{color:#f2a365;}.dark .goBack{background:#f2a365;}a,a:hover{color:inherit;-webkit-text-decoration:none;text-decoration:none;cursor:pointer;}</style><style data-emotion="css 16cz9yp">.css-16cz9yp{position:relative;width:100%;height:400px;}@media (max-width: 768px){.css-16cz9yp{height:300px;}}</style><div class="css-16cz9yp e1opi4mu1"><style data-emotion="css 1bjn9yo">.css-1bjn9yo{z-index:-1;width:100%;height:400px;object-fit:cover;-webkit-filter:brightness(0.25);filter:brightness(0.25);}@media (max-width: 768px){.css-1bjn9yo{height:300px;}}</style><div data-gatsby-image-wrapper="" style="position:absolute" class="gatsby-image-wrapper gatsby-image-wrapper-constrained css-1bjn9yo e1opi4mu0"><div style="max-width:564px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;423&#x27; width=&#x27;564&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><img aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear" decoding="async" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAC4jAAAuIwF4pT92AAABA0lEQVQoz2P4cNuPbMQwqnkQan530/f9Lb+3N33f3YSQviRo/vM86NNdv59PAv+/Cv7/OuTbw4D3t4jT/P6WX3WBxt1THrtW2vq5S4X5yZzZ6fTtQQADQW3vbvq+vemro8F/YJ29jgbf1HbDxjKtijz1v8+D8Gl+f9vv4x2/v8+D3tzw1dXkP7fHua1KR0meO9RP+sR2RwI2f7zj9/KKz5Yl1l8fBxrpCe5YYbN+gdWtYx6ZCUpGeoI/HgUy4HEwJJBNDQXtrUSN9QUfnPU01BGIDJLzdZOMCJD9/RSvs9/d8vv2IODOSY/+Zv3LB1z+PAt6ftl7Srvh3H7j9zf9Pt31BwBJDVC4qyyKbwAAAABJRU5ErkJggg==" alt=""/><picture><source type="image/webp" data-srcset="/static/de219da53c1808c524bfaaad07a73d29/6a76d/js1.webp 141w,/static/de219da53c1808c524bfaaad07a73d29/14662/js1.webp 282w,/static/de219da53c1808c524bfaaad07a73d29/39b3f/js1.webp 564w" sizes="(min-width: 564px) 564px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 564px) 564px, 100vw" decoding="async" loading="lazy" data-src="/static/de219da53c1808c524bfaaad07a73d29/518fc/js1.jpg" data-srcset="/static/de219da53c1808c524bfaaad07a73d29/b9507/js1.jpg 141w,/static/de219da53c1808c524bfaaad07a73d29/cada7/js1.jpg 282w,/static/de219da53c1808c524bfaaad07a73d29/518fc/js1.jpg 564w" alt="thumbnail"/></picture><noscript><picture><source type="image/webp" srcSet="/static/de219da53c1808c524bfaaad07a73d29/6a76d/js1.webp 141w,/static/de219da53c1808c524bfaaad07a73d29/14662/js1.webp 282w,/static/de219da53c1808c524bfaaad07a73d29/39b3f/js1.webp 564w" sizes="(min-width: 564px) 564px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 564px) 564px, 100vw" decoding="async" loading="lazy" src="/static/de219da53c1808c524bfaaad07a73d29/518fc/js1.jpg" srcSet="/static/de219da53c1808c524bfaaad07a73d29/b9507/js1.jpg 141w,/static/de219da53c1808c524bfaaad07a73d29/cada7/js1.jpg 282w,/static/de219da53c1808c524bfaaad07a73d29/518fc/js1.jpg 564w" alt="thumbnail"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div><style data-emotion="css 159fv62">.css-159fv62{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:768px;height:100%;margin:0 auto;padding:60px 0;color:black;}@media (max-width: 768px){.css-159fv62{width:100%;padding:40px 20px;}}</style><div class="postHead css-159fv62 e1st1jau1"><style data-emotion="css gywgo7">.css-gywgo7{display:grid;place-items:center;width:40px;height:40px;border-radius:50%;background:#ffffff;color:#000000;font-size:22px;cursor:pointer;box-shadow:0 0 10px rgba(0, 0, 0, 0.3);}@media (max-width: 768px){.css-gywgo7{width:30px;height:30px;font-size:18px;}}</style><div class="goBack css-gywgo7 e1st1jau0"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-left" class="svg-inline--fa fa-arrow-left " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M447.1 256C447.1 273.7 433.7 288 416 288H109.3l105.4 105.4c12.5 12.5 12.5 32.75 0 45.25C208.4 444.9 200.2 448 192 448s-16.38-3.125-22.62-9.375l-160-160c-12.5-12.5-12.5-32.75 0-45.25l160-160c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25L109.3 224H416C433.7 224 447.1 238.3 447.1 256z"></path></svg></div><style data-emotion="css gn4qtp">.css-gn4qtp{display:-webkit-box;overflow:hidden;overflow-wrap:break-word;margin-top:auto;text-overflow:ellipsis;white-space:normal;-webkit-line-clamp:2;-webkit-box-orient:vertical;font-size:45px;font-weight:800;}@media (max-width: 768px){.css-gn4qtp{font-size:30px;}}</style><div class="css-gn4qtp e1st1jau3">generator</div><style data-emotion="css 3gcnt2">.css-3gcnt2{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-top:10px;font-size:18px;font-weight:700;}@media (max-width: 768px){.css-3gcnt2{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;font-size:15px;font-weight:400;}}</style><div class="css-3gcnt2 e1st1jau2"><div>JS</div><div>2022.08.26</div></div></div></div><style data-emotion="css 11tn2z6">.css-11tn2z6{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:768px;margin:0 auto;padding:100px 0;word-break:break-all;line-height:1.8;font-size:18px;font-weight:400;}.css-11tn2z6 p{padding:3px 0;}.css-11tn2z6 h1,.css-11tn2z6 h2,.css-11tn2z6 h3{font-weight:800;margin-bottom:10px;}.css-11tn2z6 *+h1,.css-11tn2z6 *+h2,.css-11tn2z6 *+h3{margin-top:10px;}.css-11tn2z6 hr+h1,.css-11tn2z6 hr+h2,.css-11tn2z6 hr+h3{margin-top:0;}.css-11tn2z6 h1{font-size:30px;}.css-11tn2z6 h2{font-size:25px;}.css-11tn2z6 h3{font-size:20px;}.css-11tn2z6 blockquote{margin:30px 0;padding:5px 15px;border-left:2px solid #000000;font-weight:800;}.css-11tn2z6 ol,.css-11tn2z6 ul{margin-left:20px;padding:0px 0;}.css-11tn2z6 hr{border:1px solid #000000;margin:100px 0;}.css-11tn2z6 a{color:#4263eb;-webkit-text-decoration:underline;text-decoration:underline;}.css-11tn2z6 pre[class*='language-']{margin:30px 0;padding:5px;font-size:15px;}.css-11tn2z6 pre[class*='language-']::-webkit-scrollbar-thumb{background:rgba(255, 255, 255, 0.5);border-radius:3px;}.css-11tn2z6 code[class*='language-'],.css-11tn2z6 pre[class*='language-']{tab-size:2;font-family:'Inconsolata',Consolas,Monaco,'Andale Mono','Ubuntu Mono',monospace;font-size:1em;line-height:2;}@media (max-width: 768px){.css-11tn2z6{width:100%;padding:80px 20px;line-height:1.6;font-size:14px;}.css-11tn2z6 h1{font-size:23px;}.css-11tn2z6 h2{font-size:20px;}.css-11tn2z6 h3{font-size:17px;}.css-11tn2z6 img{width:100%;}.css-11tn2z6 hr{margin:50px 0;}}</style><div class="css-11tn2z6 e1ijh0y10"><blockquote>
<p>코어 자바스크립트의 제너레이터 부분을 읽고 정리한 내용입니다.</p>
</blockquote>
<h1>제너레이터</h1>
<p>일반 함수는 하나의 값(혹은 0개의 값)만을 반환하지만 제너레이터를 사용하면 여러 개의 값을 필요에 따라 하나씩 반환(yield)할 수 있다. 제너레이터와 이터러블 객체를 함께 사용하면 손쉽게 데이터스트림을 만들 수 있다.</p>
<h2>제너레이터 함수</h2>
<p>제너레이터를 만들려면 ‘제너레이터 함수’라 불리는 특별한 문법 구조, function* 이 필요하다</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">generateSequence</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">yield</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">yield</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>제너레이터 함수는 일반 함수와 동작 방식이 다르다. 제너레이터 함수를 호출하면 코드가 실행되지 않고, 대신 실행을 처리하는 특별 객체, ‘제너레이터 객체’가 반환된다.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">generateSequence</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">yield</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">yield</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 제너레이터 함수는 제너레이터 객체를 생성한다.</span>
<span class="token keyword">let</span> generator <span class="token operator">=</span> <span class="token function">generateSequence</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>generator<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [object Generator]</span></code></pre></div>
<p>함수 본문 코드는 아직 실행되지 않았다.
next() 는 제너레이터의 주요 메서드이다. next()를 호출하면 가장 가까운 yield <value> 문을 만날 때까지 실행이 지속된다.(value를 생략할 수도 있는데 undefined가 된다.) 이후, yield <value> 문을 만나면 실행이 멈추고 산출하고자 하는 값인 value가 바깥 코드에 반환된다. (yield 는 ‘생산하다, 산출하다’ 라는 뜻을 가진다.).
next()는 항상 아래 두 프로퍼티를 가진 객체를 반환한다.</p>
<ul>
<li>value: 산출 값</li>
<li>done: 함수 코드 실행이 끝났으면 true, 아니면 false</li>
</ul>
<p>제너레이터를 만들고 첫 번째 산출 값을 받는 예시</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">generateSequence</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">yield</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">yield</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> generator <span class="token operator">=</span> <span class="token function">generateSequence</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> one <span class="token operator">=</span> generator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>one<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {"value":1,"done":false}</span></code></pre></div>
<p>현재 첫 번째 값만 받았으므로 함수 실행은 두 번째 줄에서 멈췄다.
generator.next()를 다시 호출하면 실행이 재개되고 다음 yield를 반환한다.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">let</span> two <span class="token operator">=</span> generator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>two<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {"value": 2, "done": false}</span></code></pre></div>
<p>generator.next()를 다시 호출하면 실행은 return 문에 다다르고 함수가 종료된다.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">let</span> three <span class="token operator">=</span> generator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>three<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {"value": 3, "done": true}</span></code></pre></div>
<h2>제너레이터와 이터러블</h2>
<p>next() 메서드를 보면서 짐작하셨듯이, 제너레이터는 이터러블이다.
따라서 for…of 반복문을 통해 값을 얻을 수 있다.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">generateSequence</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">yield</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">yield</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> generator <span class="token operator">=</span> <span class="token function">generateSequence</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> value <span class="token keyword">of</span> generator<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1, 2</span>
<span class="token punctuation">}</span></code></pre></div>
<p>주의점: for…of 이터레이션이 done:true 일 때 마지막 value 를 무시하기 때문에 모든 값이 출력되기를 원한다면 yield로 값을 반환해야 한다.</p>
<p>제너레이터는 이터러블 객체이므로 전개 문법같은 관련 기능을 사용할 수 있다.</p>
<h2>이터러블 대신 제너레이터 사용하기</h2>
<p>Symbol.iterator 대신 제너레이터 함수를 사용하면, 제너레이터 함수로 반북이 가능하다.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">let</span> range <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">from</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>

  <span class="token operator">*</span><span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// [Symbol.iterator]: function*()를 짧게 줄임</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> value <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>from<span class="token punctuation">;</span> value <span class="token operator">&lt;=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>to<span class="token punctuation">;</span> value<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">yield</span> value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>range<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1,2,3,4,5</span></code></pre></div>
<p>range<a href="">Symbol.iterator</a> 는 제너레이터를 반환하고, 제너레이터 메서드는 for…of 가 동작하는데 필요한 사항을 총족시키므로 예시가 잘 동작한다.</p>
<ul>
<li>.next() 메서드가 있음</li>
<li>반환 값의 형태는 {value: …, done: true/false} 이어야 함.</li>
</ul>
<h2>제너레이터 컴포지션</h2>
<p>제너레이터 컴포지션은 제너레이터 안에 제너레이터를 임베딩할 수 있게 해주는 제너레이터의 특별 기능이다.
먼저, 연속된 숫자를 생성하는 제너레이터 함수를 만들어보자.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">generateSequence</span><span class="token punctuation">(</span><span class="token parameter">start<span class="token punctuation">,</span> end</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> start<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> end<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token keyword">yield</span> i<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>그리고 이 함수를 기반으로 좀 더 복잡한 값을 연속해서 생성하는 함수를 만들어 보자.</p>
<ul>
<li>처음엔 숫자 0 부터 9 까지를 생성한다. (문자 코드 48 부터 57까지)</li>
<li>이어서 알파벳 대문자 A 부터 Z 까지 생성한다. (문자 코드 65부터 90까지)</li>
<li>이어서 알파벳 소문자 a 부터 z 까지 생성한다. (문자 코드 97부터 122까지)</li>
</ul>
<p>제너레이터 특수 문법 yield*를 사용하면 제너레이터를 다른 제너레이터에 ‘끼워 넣을 수’ 있다.
컴포지션을 적용한 제너레이터는 다음과 같다.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">generateSequence</span><span class="token punctuation">(</span><span class="token parameter">start<span class="token punctuation">,</span> end</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> start<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> end<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token keyword">yield</span> i<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">generatePasswordCodes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 0 ~ 9</span>
  <span class="token keyword">yield</span><span class="token operator">*</span> <span class="token function">generateSequence</span><span class="token punctuation">(</span><span class="token number">48</span><span class="token punctuation">,</span> <span class="token number">57</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// A ~ Z</span>
  <span class="token keyword">yield</span><span class="token operator">*</span> <span class="token function">generateSequence</span><span class="token punctuation">(</span><span class="token number">65</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// a ~ z</span>
  <span class="token keyword">yield</span><span class="token operator">*</span> <span class="token function">generateSequence</span><span class="token punctuation">(</span><span class="token number">97</span><span class="token punctuation">,</span> <span class="token number">122</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> code <span class="token keyword">of</span> <span class="token function">generatePasswordCodes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  str <span class="token operator">+=</span> String<span class="token punctuation">.</span><span class="token function">fromCharCode</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">alert</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0~9A~Za~z</span></code></pre></div>
<p>yield* 지시자는 실행을 다른 제너레이터에 위임한다. 여기서 위임은 yield* gen 이 제너레이터 gen을 대상으로 반복을 수행하고, 산출 값들을 바깥으로 전달한다는 것을 의미한다.</p>
<h2>‘yield’를 사용해 제너레이터 안,밖으로 정보 교환하기</h2>
<p>제너레이터는 값을 생성해주는 특수 문법을 가진 이터러블 객체와 유사하다 그런데 제너레이터는 더 강력하고 유연한 기능을 제공한다.
yield가 양방향 길과 같은 역할을 하기 때문이다. yield는 결과를 바깥으로 전달할 뿐만 아니라 값을 제너레이터 안으로 전달하기까지 한다.
값을 안,밖으로 전달하려면 generator.next(arg)를 호출해야 한다. 이때 인수 arg는 yield의 결과가 된다.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 질문을 제너레이터 밖 코드에 던지고 답을 기다린다.</span>
  <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token keyword">yield</span> <span class="token string">"2 + 2 = ?"</span><span class="token punctuation">;</span> <span class="token comment">// (*)</span>
  <span class="token function">alert</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> generator <span class="token operator">=</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> question <span class="token operator">=</span> generator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span> <span class="token comment">// &lt;-- yield는 value를 반환.</span>
generator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 결과를 제너레이터 안으로 전달.</span></code></pre></div>
<ol>
<li>generator.next()를 처음 호출할 땐 항상 인수가 없어야 한다. 인수가 넘어오더라도 무시되어야 한다. generator.next()를 호출하면 실행이 시작되고 첫 번째 yield “2+2=?”의 결과가 반환된다. 이 시점에는 제너레이터가 (*)로 표시한 줄에서 실행을 잠시 멈춘다.</li>
<li>그 후, yield의 결과가 제너레이터를 호출하는 외부 코드에 있는 변수, question에 할당된다.</li>
<li>마지막 줄, generator.next(4)에서 제너레이터가 다시 시작되고 4 는 result에 할당 된다. (let result = 4).</li>
</ol>
<p>외부 코드에선 next(4)를 즉시 호출하지 않고 있다는 것에 주목하자 제너레이터가 기다려주기 때문에 호출을 나중에 해도 문제가 되지 않는다.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token comment">// 일정 시간이 지난 후 제너레이터가 다시 시작됨</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> generator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>일반 함수와 다르게 제너레이터 외부 호출 코드는 next/yield를 이용해 결과를 전달 및 교환한다.</p>
<div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> ask1 <span class="token operator">=</span> <span class="token keyword">yield</span> <span class="token string">"2 + 2 = ?"</span><span class="token punctuation">;</span>
  <span class="token function">alert</span><span class="token punctuation">(</span>ask1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 4</span>
  <span class="token keyword">let</span> ask2 <span class="token operator">=</span> <span class="token keyword">yield</span> <span class="token string">"3 * 3 = ?"</span><span class="token punctuation">;</span>
  <span class="token function">alert</span><span class="token punctuation">(</span>ask2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 9</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> generator <span class="token operator">=</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>generator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "2 + 2 = ?"</span>
<span class="token function">alert</span><span class="token punctuation">(</span>generator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// "3 * 3 = ?"</span>
<span class="token function">alert</span><span class="token punctuation">(</span>generator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span></code></pre></div>
<ol>
<li>제너레이터 객체가 만들어지고 첫번째 .next()가 호출되면 실행이 시작되고 첫 번째 yield에 다다른다.</li>
<li>산출 값은 바깥 코드로 반환된다.</li>
<li>두 번째 .next(4)는 첫 번째 yield의 결과가 될 4를 제너레이터 안으로 전달한다. 그리고 다시 실행이 이어진다.</li>
<li>실행 흐름이 두 번째 yield에 다다르고, 산출 값(“3 * 3 = ?“)이 제너레이터 호출 결과가 됩니다.</li>
<li>세 번째 next(9)는 두 번째 yield의 결과가 될 9를 제너레이터 안으로 전달한다. 그리고 다시 실행이 이어지는데, done: true이므로 제너레이터 함수는 종료된다.</li>
</ol>
<p>첫 번째 next()를 제외한 각 next(value)는 현재 yield의 결과가 될 값을 제너레이터 안에 전달한다. 그리고 다음 yield의 결과로 되돌아온다.</p>
<h2>generator.throw</h2>
<p>에러를 yield 안으로 전달하려면 generator.throw(err)를 호출해야 한다. generator.throw(err) 를 호출하게 되면 err 는 yield가 있는 줄로 던져진다.</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token keyword">yield</span> <span class="token string">"2 + 2 = ?"</span><span class="token punctuation">;</span> <span class="token comment">// (1)</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"위에서 에러가 던져졌기 때문에 실행 흐름은 여기까지 다다르지 못한다."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> generator <span class="token operator">=</span> <span class="token function">gen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> question <span class="token operator">=</span> generator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
generator<span class="token punctuation">.</span><span class="token function">throw</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">"데이터베이스에서 답을 찾지 못했습니다."</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//(2)</span></code></pre></div>
<p>(2)에서 제너레이터 안으로 던진 에러는 yield와 함께 라인 (1)에서 예외를 만든다. 예외는 try…catch 문에서 잡히고, 관련 정보가 alert창에 출력된다.
제너레이터 안에서 예외를 처리하지 않았다면 예외는 여타 예외와 마찬가지고 제너레이터 호출 코드(외부코드)로 떨어져 나온다.
generator.throw(라인 (2))에서 제너레이터를 호출하고 있으므로 아래와 같이 에러를 여기서 잡아도 된다.</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span><span class="token operator">*</span> <span class="token function">generate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token keyword">yield</span> <span class="token string">"2 + 2 = ?"</span><span class="token punctuation">;</span> Error <span class="token keyword">in</span> <span class="token keyword">this</span> line
<span class="token punctuation">}</span>
<span class="token keyword">let</span> generator <span class="token operator">=</span> <span class="token function">generate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> question <span class="token operator">=</span> generator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
  generator<span class="token punctuation">.</span><span class="token function">throw</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">"데이터베이스에서 답을 찾지 못했습니다."</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 에러 출력</span>
<span class="token punctuation">}</span></code></pre></div>
<p>이렇게 제너레이터 바깥에서 에러를 잡지 못하면 에러는 제너레이터 호출 코드 밖으로 떨어져 나간다.</p>
<h2>요약</h2>
<ul>
<li>제너레이터는 제너레이터 함수 function* f(…) {…}을 사용해 만든다.</li>
<li>yield 연산자는 제너레이터 안에 있어야 한다.</li>
<li>next/yield 호출을 사용하면 외부 코드와 제너레이터 간에 결과를 교환할 수 있다.</li>
</ul>
<p>모던 자바스크립트에서는 제너레이터를 잘 사용하지 않는다. 그러나 제너레이터를 사용하면 실행 중에도 제너레이터 호출 코드와 데이터를 교환할 수 있기 때문에 유용한 경우가 종종 있다. 그리고 제너레이터를 사용하면 이터러블 객체를 쉽게 만들 수 있다는 장점이 있다.</p></div><style data-emotion="css hx9xpc">@media (max-width: 768px){.css-hx9xpc{padding:0 20px;}}</style><div class="css-hx9xpc e1gqsjds0"></div><style data-emotion="css mtmse3">.css-mtmse3{display:grid;place-items:center;margin-top:auto;padding:50px 0;font-size:15px;text-align:center;line-height:1.5;background:#fff9f0;}@media (max-width: 768px){.css-mtmse3{font-size:13px;}}</style><footer class="css-mtmse3 e1oae0v80">Thank You for Visiting My Blog, Have a Good Day 😁<br/>© 2022 Developer Minter, Powered By Gatsby.</footer></main></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/제네레이터/";window.___webpackCompilationHash="9866bfcdb0f462b505f6";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-c9fa82aa5b1f9c65f078.js"],"app":["/app-41a98869054b242b5b5c.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-f1379f2c04066849926d.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-234b324b2fdfd0d7873d.js"],"component---src-pages-info-tsx":["/component---src-pages-info-tsx-bacc44475795f7d3bfca.js"],"component---src-templates-post-template-tsx":["/component---src-templates-post-template-tsx-24498bb6c947e692713d.js"]};/*]]>*/</script><script src="/polyfill-c9fa82aa5b1f9c65f078.js" nomodule=""></script><script src="/app-41a98869054b242b5b5c.js" async=""></script><script src="/framework-c57a9454c0e3bef16c3b.js" async=""></script><script src="/webpack-runtime-4e30b4e929eca6f20480.js" async=""></script></body></html>