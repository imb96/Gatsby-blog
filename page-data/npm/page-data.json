{"componentChunkName":"component---src-templates-post-template-tsx","path":"/npm/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<p>최근 오픈소스에 관심을 가지면서, 오픈소스는 어떻게 만들어져 있는지에 대한 궁금증이 생겨서 직접 배포해보려고 한다.</p>\n<p>CRA로 기본적인 프로젝트 설정을 해준다.\n<code class=\"language-text\">$ npx create-react-app my-App</code></p>\n<p>필요한 의존성을 설치해준다. 기본적으로 react jsx 트랜스파일은 필요하다.<br>\n<code class=\"language-text\">$ npm i -D @babel/cli @babel/preset-react</code></p>\n<p>이제 리액트 컴포넌트를 가져오자.\nsrc/lib 경로에 폴더를 만들어서 넣어준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">src/lib/Component\n├── Component.hook.js\n├── Component.jsx\n├── Component.styles.css\n└── index.js</code></pre></div>\n<p>Component.jsx같은 jsx 파일은 React.createElement로 엘리먼트를 생성하기 때문에 React가 필요하다.<br>\n<code class=\"language-text\">import React from \"react\"</code> 로 react를 import 해주어야 한다.</p>\n<p>다음으로는 진입할 파일을 만들어준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// src/index.js </span>\n<span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> ReactDOM <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-dom\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Component <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"./lib/Component\"</span><span class=\"token punctuation\">;</span>\n\nReactDOM<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>Component <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"root\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>이제 배포를 위한 package.json을 다음을 참고해서 작성해준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token comment\">// package.json</span>\n<span class=\"token punctuation\">{</span>\n\t<span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"프로젝트 이름\"</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token property\">\"version\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"0.1.0\"</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token property\">\"description\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"프로젝트 설명\"</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token property\">\"repository\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"깃 허브 저장소\"</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token property\">\"keywords\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n\t\t<span class=\"token string\">\"연관 검색어 단어\"</span>\n\t<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token property\">\"author\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"name\"</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token property\">\"email\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"email@email.com\"</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token property\">\"url\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"깃 허브 프로필 주소\"</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token property\">\"license\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"MIT\"</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token property\">\"main\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"dist/index.js\"</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token property\">\"module\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"dist/index.js\"</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token property\">\"start\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"react-scripts start\"</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token property\">\"build\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"react-scripts build\"</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token property\">\"test\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"react-scripts test\"</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token property\">\"eject\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"react-scripts eject\"</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token property\">\"publish:npm\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"rm -rf dist &amp;&amp; mkdir dist &amp;&amp; babel src/lib -d dist --copy-files\"</span>\n\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token property\">\"babel\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token property\">\"presets\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n\t\t\t<span class=\"token string\">\"@babel/preset-react\"</span>\n\t\t<span class=\"token punctuation\">]</span>\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>특별한점은 scripts안에 publish:npm이라는 명령어다. 이 명령어를 사용하게 되면 기존에 있던 dist폴더를 삭제후 다시 만들고 src/lib내부의 파일을 트랜스파일후 dist에 복사해준다.</p>\n<p>root에 gitignore파일을 만들어 저장소에 올리지 않을 폴더나 파일을 지정해준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">// .gitignore\n<span class=\"token comment\"># dependencies</span>\n/node_modules\n/.pnp\n.pnp.js\n\n<span class=\"token comment\"># testing</span>\n/coverage\n\n<span class=\"token comment\"># production</span>\n/build\n/public\n/dist\n\n<span class=\"token comment\"># misc</span>\n.DS_Store\n.env.local\n.env.development.local\n.env.test.local\n.env.production.local\n\nnpm-debug.log*\nyarn-debug.log*\nyarn-error.log*</code></pre></div>\n<p>npm도 마찬가지로 npmignore파일을 만들어 npm에 올리지 않을 폴더나 파일을 지정해줄 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">// .npmignore\n/node_modules\n/build\n/public\n/test</code></pre></div>\n<p>다음으로는 다른 개발자들이 오픈소스에 기여할 수 있게 License를 파일을 만들어준다. MIT License를 사용한다면 root에 LICENSE 파일을 만들고 다음과 같이 작성할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">// LICENSE\n\nMIT License\nCopyright <span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">)</span> <span class=\"token number\">2023</span> Minjae Kim <span class=\"token operator\">&lt;</span>kimminje7810@gmail.com<span class=\"token operator\">></span>\n\nPermission is hereby granted, <span class=\"token function\">free</span> of charge, to any person obtaining a copy\nof this software and associated documentation files <span class=\"token punctuation\">(</span>the <span class=\"token string\">\"Software\"</span><span class=\"token punctuation\">)</span>, to deal\n<span class=\"token keyword\">in</span> the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to <span class=\"token keyword\">do</span> so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included <span class=\"token keyword\">in</span> all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED <span class=\"token string\">\"AS IS\"</span>, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.</code></pre></div>\n<p>다음으로는 프로젝트의 README 파일을 작성한다.\n프로젝트의 이름, 설명, 설치 방법, 예제, 라이센스, 컨튜리뷰팅 등을 적어준다.<br>\n원한다면 license나 version, download수 를 뱃지로 달아줄 수도있다.\n꺽쇠 ’&#x3C;>’ 안의 내용을 내 프로젝트에 맞게 넣어주자.</p>\n<div class=\"gatsby-highlight\" data-language=\"md\"><pre class=\"language-md\"><code class=\"language-md\"><span class=\"token url\">[<span class=\"token content\">![GitHub license</span>](<span class=\"token url\">https://img.shields.io/badge/license-MIT-blue.svg</span>)</span>](https://github.com/<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>username</span><span class=\"token punctuation\">></span></span>/<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>projectname</span><span class=\"token punctuation\">></span></span>/blob/main/LICENSE) \n<span class=\"token url\">[<span class=\"token content\">![npm version</span>](<span class=\"token url\">https://img.shields.io/npm/v/&lt;projectname>.svg?style=flat</span>)</span>](https://www.npmjs.com/package/<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>projectname</span><span class=\"token punctuation\">></span></span>) \n<span class=\"token url\"><span class=\"token operator\">!</span>[<span class=\"token content\">npm downloads</span>](<span class=\"token url\">https://img.shields.io/npm/dt/&lt;projectname></span>)</span></code></pre></div>\n<p>이제 npm에 배포하기 위해 회원가입 혹은 로그인을 해야한다.\n터미널에서 <code class=\"language-text\">$ npm login</code> 을 사용하면 바로 로그인할 수 있고\n<code class=\"language-text\">$ npm whoami</code> 를 사용하면 로그인 되어있는 계정을 볼 수 있다.</p>\n<p>이제 배포를 하기 위해 <code class=\"language-text\">$ npm publish:npm</code> 명령어를 사용하고 <code class=\"language-text\">$ npm publish</code> 로 npm에 배포해주면 배포가 완료된다.</p>\n<p>깃허브 저장소에서도 마찬가지로 프로젝트를 올려주고, 현재 프로젝트의 버전을 git tag로 현재 릴리즈된 버전을 명시해 줄 수 있다.</p>\n<p>버전같은 경우는 보통 다음과 같은 Semantic Versioning 규칙을 따를 수 있다.</p>\n<p><strong>version: “major.minor.patch”</strong><br>\nmajor: 기존 버전과 호환되지 않는 버전<br>\nminor: 기존 버전과 호환되는 새로운 기능을 추가한 버전<br>\npatch: 기존 버전과 호환되는 버그를 수정한 버전</p>\n<p>앞으로 프로젝트를 업데이트 해 나가면서 재배포를 할 경우에는 version을 1씩 올려주어야 배포가 성공적으로 된다.</p>","frontmatter":{"title":"npm에 react 컴포넌트 배포하기","summary":"react로 만든 컴포넌트를 npm에 배포해보자","date":"2024-01-22","categories":["npm","react"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAMABQDASIAAhEBAxEB/8QAGgAAAQUBAAAAAAAAAAAAAAAAAAIEBQYHCf/EABcBAAMBAAAAAAAAAAAAAAAAAAABAwX/2gAMAwEAAhADEAAAAe0tF1dniUlhAj//xAAaEAACAwEBAAAAAAAAAAAAAAADBAACBQEG/9oACAEBAAEFAtZthJbK9RzSYhBjNUaSQbz/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAYEQACAwAAAAAAAAAAAAAAAAAQIRExUf/aAAgBAgEBPwFRT0f/xAAgEAADAAIBBQEBAAAAAAAAAAABAgMEEQUAEhMUITEQ/9oACAEBAAY/Ap3xklV/agjRrScRWTChqiXq6Rx6dqdy2sTNQrdynY642DHAx7XFp5WLHlOJ5Ohr6csrGtjNgZ9X9SpGWBTw0BEdu0tgt147TnVDolKzWiEj6CVcMuwfo+fD+dLSODhRogISksTHlRA2+4K6TVlDbOwCN7O/0/z/xAAZEAEBAQEBAQAAAAAAAAAAAAABESEAEEH/2gAIAQEAAT8h3RukuV5iHSIRzWHvMOay43mNU8jY1OCFa0h74QABwD2ds52vf//aAAwDAQACAAMAAAAQaM//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAZEQEBAQEBAQAAAAAAAAAAAAABIRFREDH/2gAIAQIBAT8QEoU1mvkwnNvZE3z/xAAaEAEAAgMBAAAAAAAAAAAAAAABABEQUaHR/9oACAEBAAE/EKONOCI6m5QZ58J8h8PKu/5Ac/E4oQgKIYBg9KSwprROkB30d9n/2Q=="},"images":{"fallback":{"src":"/static/2df6bd11efdc8de0ac54d805ca1ba1ab/97099/til.jpg","srcSet":"/static/2df6bd11efdc8de0ac54d805ca1ba1ab/d75cc/til.jpg 557w,\n/static/2df6bd11efdc8de0ac54d805ca1ba1ab/a3617/til.jpg 1113w,\n/static/2df6bd11efdc8de0ac54d805ca1ba1ab/97099/til.jpg 2226w","sizes":"(min-width: 2226px) 2226px, 100vw"},"sources":[{"srcSet":"/static/2df6bd11efdc8de0ac54d805ca1ba1ab/9e13a/til.webp 557w,\n/static/2df6bd11efdc8de0ac54d805ca1ba1ab/f9e0a/til.webp 1113w,\n/static/2df6bd11efdc8de0ac54d805ca1ba1ab/b09bd/til.webp 2226w","type":"image/webp","sizes":"(min-width: 2226px) 2226px, 100vw"}]},"width":2226,"height":1322}},"publicURL":"/static/2df6bd11efdc8de0ac54d805ca1ba1ab/til.jpg"}}}}]}},"pageContext":{"slug":"/npm/"}},"staticQueryHashes":[]}