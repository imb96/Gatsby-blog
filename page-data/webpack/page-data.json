{"componentChunkName":"component---src-templates-post-template-tsx","path":"/webpack/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<p>웹팩은 Javascript 모듈 번들러다. 모듈 번들러는 웹 애플리케이션을 구성하는 자원 (HTML, CSS, Javascript, Images 등)을 모두 각각의 모듈로 보고 이를 조합해서 병합된 하나의 결과물을 만드는 도구를 의미한다. 번들러를 사용하면 모듈 지원이 불가한 브라우저에서의 의존성 관리 문제를 해결할 수 있다.<br>\n최근 사용되는 번들러들은 단순히 의존성 패키지들의 코드를 하나로 묶어 주는 것을 넘어 개발 생산성 자체에도 도움을 주고있다.</p>\n<h3>webpack 설치</h3>\n<p>npm에서 webpack과 cli에서 웹팩을 사용할 수 있게 해줄 수 있게 설치한다.<br>\n<code class=\"language-text\">$ npm i webpack webpack-cli --save-dev</code></p>\n<p>다음과 같이 webpack 명령어로 번들링을 실행할 수 있다.<br>\n<code class=\"language-text\">$ webpack</code></p>\n<p>webpack 설정을 위해 webpack.config.js 파일을 만든다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// webpack.config.js</span>\n<span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"path\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token literal-property property\">entry</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./src/index.js\"</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token literal-property property\">output</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token literal-property property\">filename</span><span class=\"token operator\">:</span> <span class=\"token string\">\"main.js\"</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">\"dist\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token comment\">// 현재 경로 하위의 dist 폴더</span>\n\t\t<span class=\"token literal-property property\">clean</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>entry: 진입할 파일, 이 파일을 기점으로 여러 모듈을 분석하여 의존성 그래프를 만들고 번들링한다.<br>\noutput: 만들어지는 최종 파일, 여러 옵션을 지정해 줄 수 있다.</p>\n<ul>\n<li>filename: 만들어지는 파일의 이름.</li>\n<li>path: 만들어지는 파일을 둘 경로.</li>\n<li>clean: build 시, dist 폴더를 지울지 여부.</li>\n</ul>\n<p>build를 위해 package.json의 build 명령어로 “webpack”을 넣어준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token comment\">// package.json</span>\n<span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token property\">\"build\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"webpack\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre></div>\n<p>build 실행<br>\n<code class=\"language-text\">$ npm run build</code></p>\n<p>빌드시 dist에 main.js 파일이 생성된다. 하지만 dist 폴더를 배포하기 위해선 html파일도 필요하다.<br>\n<code class=\"language-text\">$ npm i html-webpack-plugin</code><br>\n번들 파일을 포함하는 HTML 파일을 자동으로 만들어준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// webpack.config.js</span>\n<span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"path\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> HtmlWebpackPlugin <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"html-webpack-plugin\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token literal-property property\">entry</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./src/index.js\"</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token literal-property property\">output</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token literal-property property\">filename</span><span class=\"token operator\">:</span> <span class=\"token string\">\"main.js\"</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">\"dist\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n\t<span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n\t\t<span class=\"token keyword\">new</span> <span class=\"token class-name\">HtmlWebpackPlugin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token literal-property property\">template</span><span class=\"token operator\">:</span> <span class=\"token string\">\"./index.html\"</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>template: 지정한, 기존에 만들어둔 파일을 이용해서 html을 생성해준다.</p>\n<p>그런데 지금은 매번 빌드를 해줘야한다.<br>\n<code class=\"language-text\">$ npm i -D webpack-dev-server</code><br>\n웹팩을 통해 개발 서버를 오픈한다. 코드를 수정해도 개발 서버에 바로 반영된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// webpack.config.js</span>\n<span class=\"token literal-property property\">devServer</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">static</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token literal-property property\">directory</span><span class=\"token operator\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">\"dist\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token literal-property property\">port</span><span class=\"token operator\">:</span> <span class=\"token number\">8080</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token comment\">// package.json</span>\n<span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token property\">\"start\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"webpack serve --open --mode=development\"</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token property\">\"build\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"webpack --mode=production\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>Loader, Plugin</h3>\n<p>webpack은 기본적으로 자바스크립트 파일과 JSON파일만 이해한다. CSS나 이미지를 모듈 형태로 가져오려면 webpack의 loader 옵션을 사용하면 번들링 과정에서 loader가 이러한 자원들을 자바스크립트로 변환해준다.</p>\n<p><code class=\"language-text\">$ npm i -D style-loader css-loader</code><br>\ncss loader: css를 읽어준다.<br>\nstyle-loader: css를 style태그로 만들어서 head에 넣어준다.<br>\nhtml webpack plugin은 plugin이고 css는 module로 작성해야 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// webpack.config.js</span>\n<span class=\"token literal-property property\">module</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token literal-property property\">rules</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n\t\t<span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token literal-property property\">test</span><span class=\"token operator\">:</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\.css$</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span>\n\t\t\t<span class=\"token literal-property property\">use</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"style-loader\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"css-loader\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre></div>\n<p>test: 확장자를 찾는다. 정규식 형태로 작성한다.<br>\nuse: 확장자를 해석한다. 여러개일 경우 배열로 사용하고 뒤에서 부터 실행이된다.</p>\n<p>style-loader는 style태그를 만들어서 head에 넣어준다.</p>\n<p><code class=\"language-text\">$ npm i -D mini-css-extract-plugin</code><br>\ncss를 하나의 파일로 만들어준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// webpack.config.js</span>\n<span class=\"token keyword\">const</span> MiniCssExtractPlugin <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"mini-css-extract-plugin\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token literal-property property\">module</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token literal-property property\">rules</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n\t\t<span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token literal-property property\">test</span><span class=\"token operator\">:</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\.css$</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span>\n\t\t\t<span class=\"token comment\">// use: [\"style-loader\", \"css-loader\"],</span>\n\t\t\t<span class=\"token literal-property property\">use</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>MiniCssExtractPlugin<span class=\"token punctuation\">.</span>loader<span class=\"token punctuation\">,</span> <span class=\"token string\">\"css-loader\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n\t<span class=\"token keyword\">new</span> <span class=\"token class-name\">MiniCssExtractPlugin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\t\t<span class=\"token literal-property property\">filename</span><span class=\"token operator\">:</span> <span class=\"token string\">\"common.css\"</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></code></pre></div>\n<p>이렇게 빌드하게 되면 dist 폴더에 common.css 파일이 생기고, index.html에 링크 태그로 common.css가 생긴다.</p>\n<p>이미지 파일 불러오기<br>\n<code class=\"language-text\">$ npm i -D file-loader</code></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// webpack.config.js</span>\n<span class=\"token literal-property property\">module</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token literal-property property\">rules</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n\t\t<span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token literal-property property\">test</span><span class=\"token operator\">:</span> <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\.jpeg$</span><span class=\"token regex-delimiter\">/</span></span><span class=\"token punctuation\">,</span>\n\t\t\t<span class=\"token literal-property property\">use</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"file-loader\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre></div>\n<p>이전의 빌드파일이 깔끔하게 지워지지 않는 경우가 있다. 이 경우에는 사용하지 않는 파일 지우는 plugin을 사용할 수 있다.</p>\n<p><code class=\"language-text\">$ npm i -D clean-webpack-plugin</code></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// webpack.config.js</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> CleanWebpackPlugin <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"clean-webpack-plugin\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n\t<span class=\"token keyword\">new</span> <span class=\"token class-name\">CleanWebpackPlugin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></code></pre></div>\n<p>이외에도 다양한 plugin들이 있다. 그 중 몇가지는 추가 설치 없이 사용할 수 있으며 대표적으로 Terser Plugin이 있다. terser라는 자바스크립트 파서이자 압축 도구를 이용해 자바스크립트 코드를 경량화 해주는 Plugin이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// webpack.config.js</span>\n<span class=\"token keyword\">const</span> TerserPlugin <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'terser-webpack-plugin'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token literal-property property\">optimization</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token literal-property property\">minimize</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token literal-property property\">minimizer</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n\t\t<span class=\"token keyword\">new</span> <span class=\"token class-name\">TerserPlugin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\t\t\t<span class=\"token literal-property property\">extractComments</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre></div>\n<h3>code splitting</h3>\n<p>페이지마다 필요한 코드만 로딩하도록 코드를 잘게 나누는 방법. 코드 스플리팅을 통해 쪼개진 번들 파일들은 필요할 때만 로딩할 수 있으며, 이 과정을 병렬로 진행할 수도 있다.</p>\n<p>webpack에서 제공하는 대표적인 코드 스플리팅 방법은 세 가지가 있다.</p>\n<ol>\n<li>entry 설정을 이용하는 방법</li>\n<li>기존 entry나 새로운 청크의 공통 의존성을 SplitChunksPlugin을 통해 제거하고 분할하는 방법</li>\n<li>Dynamic Import를 이용해 모듈에서 코드를 나누는 방법</li>\n</ol>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 402px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ff4a1015b44629e00ad955fd21489ccd/752e8/webpack1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAABdUlEQVQ4y5WTW4+CQAyF+f+/zheJcvMKCnhPEAloN1+TY9gsL9ukYZi2p2c6Z4KmaWy1Wtn1erXj8WhVVdnhcLDtdmu73c72+707e8TLsvScuq7tdDrZ+Xy2y+ViWZbZ6/WygCBJgM5mMwvD0O73u/3XHo+H4wTqCBt8Pp/bZrPxICwAh52YiyVr8vM89zW5t9vNAoqjKLK+7/905TgUDcPg/5/Px97vt6+pw7G2bT2P5kGapt+AClQEoGKK4xgsFXs+n7Zer/3YDshAp4yiJEm+IGPjqNRiXdd5nh+ZBY7BjBlx41hRFL9iUgOGChaLhYOgAhgSc4bqBBNmgRzEgvmKIYUcS4BcIJJhnzpnCDI+ZTCM43jyyALEuDQAnaGEOx66LgUpjJuNL4XRwF4zpDlsA0ljSjZ0hIli42aMSfPlhQDoDAHkh44wknjlzIw4+9Ie/zDXE9UMXYfQZQOJsElnbo8nyHe5XPp37OwBDBjg0iSz/AFQT9khG/IZ8wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/ff4a1015b44629e00ad955fd21489ccd/a59e9/webpack1.webp 192w,\n/static/ff4a1015b44629e00ad955fd21489ccd/0ca9f/webpack1.webp 384w,\n/static/ff4a1015b44629e00ad955fd21489ccd/87a1a/webpack1.webp 402w\"\n              sizes=\"(max-width: 402px) 100vw, 402px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/ff4a1015b44629e00ad955fd21489ccd/3b721/webpack1.png 192w,\n/static/ff4a1015b44629e00ad955fd21489ccd/66595/webpack1.png 384w,\n/static/ff4a1015b44629e00ad955fd21489ccd/752e8/webpack1.png 402w\"\n            sizes=\"(max-width: 402px) 100vw, 402px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/ff4a1015b44629e00ad955fd21489ccd/752e8/webpack1.png\"\n            alt=\"webpack1\"\n            title=\"webpack1\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span>\nbundle.js는 a.js와 b.js 그리고 a.js, b.js에서 의존하고 있는 공통모듈인 c.js가 번들링된 파일이다. a.js와 b.js는 각각 다른 페이지에서 사용되며 동시에 다운로드할 필요가 없다고 가정해보자.</p>\n<p>이런경우 첫 번째 방법인 webpack의 entry 옵션을 나누어 번들링을 실행하면 두 파일을 분리하여 번들파일을 생성할 수 있다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 392px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/eb49e7c4a3796afecfec62195a3d74db/c4bf7/webpack2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 70.3125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB2UlEQVQ4y12UhQoDQQxE9/8/q3ot1N316u6e8gIpSwPHWnZmInuu3+/LarWSw+Eg6/ValsulrufzuWw2GxmPx7Lb7XSPOXthGOp8MpnoyJ1OpyPH41Fct9tV516vp5sA4+AbFwFhrFarUigUhHuDweDn83w+ZTabiVssFtJut6VcLkupVNIL+XxegVFpZICNRiMFYs1YqVSUHCA+SF2j0dAwXq+XXK9Xud/vCpbL5eRyuShQNptVov1+L5/PR97vt6rabreSTCZ1DnmtVhMHCyD/Bgh2Op0kkUioajNAMUQgCCMSInTFYlGTjsFsCoIg0D3OIpGI4AeAD4gQlJtCcquAhOwbCY7FYj+FAMIOkYWL3W433ceoBVFpyOQCNnLAAQqi0ajQUlxIp9Oq0AjILy0GOCBUm4hIi6vX6z+FjLASWjwe176aTqeSyWS0C0wdoETxeDyUCDGAQuToPcuhH3IqldL5+XzW3KDUcmgGECAYilUh/US7+EXhAwRDJalAoRXDRojZN0AK5JrNpvbdv6OfMxofZyM2P78o1KHVaokj8cRP2XmXdDvr4XCoTU0YOHJGNLwIXgx++JBj5hDSk44c4cQBAMypNI1q++QKdba2H4M9TXu+vKwvQW8XKKmax7MAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/eb49e7c4a3796afecfec62195a3d74db/a59e9/webpack2.webp 192w,\n/static/eb49e7c4a3796afecfec62195a3d74db/0ca9f/webpack2.webp 384w,\n/static/eb49e7c4a3796afecfec62195a3d74db/480c8/webpack2.webp 392w\"\n              sizes=\"(max-width: 392px) 100vw, 392px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/eb49e7c4a3796afecfec62195a3d74db/3b721/webpack2.png 192w,\n/static/eb49e7c4a3796afecfec62195a3d74db/66595/webpack2.png 384w,\n/static/eb49e7c4a3796afecfec62195a3d74db/c4bf7/webpack2.png 392w\"\n            sizes=\"(max-width: 392px) 100vw, 392px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/eb49e7c4a3796afecfec62195a3d74db/c4bf7/webpack2.png\"\n            alt=\"webpack2\"\n            title=\"webpack2\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>하지만 이렇게 생성된 두 번들 파일은 공통으로 c.js가 사용되고 있어서 번들 파일의 크기가 더 증가한다. 이러한 중복 코드는 두 번째 방법인 SplitChunkPlugin을 사용하여 공통으로 분리할 수 있다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 411px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8ef3764fac55fec585ab1d3b75fa4c12/4b2fe/webpack3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.1875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAABv0lEQVQ4y22TV6tqUQyE9///QyIi4oP6oKJi77333s3lm0vAcziBsFfJmswk2cFgMLDJZGKHw8Fms5nd73e7Xq/2eDys2+3acDi0xWJh9Xpda2L2+73VajWdFYtF63Q6Vq1WhRNst1s9TKfTlkqlFJBMJu3z+eh8NBpZs9nU41arZYVCwcbjsUDYNxoNrUlAsoCs7Xbb3u+32OHH49GWy6WVy2WrVCpii3PnzCGAutfrJe/1ekoQgN7v9+23rddry2azYvbbSBiPx8XeDVKlUskCUJGEwRKpGHWDBVLc/G6321k0GhVDN5RQDgH+xWI6nQqQewy5z+dT681mY+Fw+IcywPL5/H/JzhDanhU5mUxGRceoESy8HKFQSLE0CGAAc7mcBWycxel0ssvlojXNIsDZI9cZrlYri0QiPyTDToAw+aspZGaEnCGAXkMkx2IxJf0GVA0ZRvy76BhjQ0Mc8NsY7EQioaRulI3hFkMk02FmjJlCNrKoKUG3201/D+fn81nJYANDmsU9gCTQn0LBXTpNYs/lfD5XnXAe+5dEsCfG7xl2sALokpV/mfmiPqxxDMa+Z6BxHlIe4nHO+BL7DzgDyqi6EzDtAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/8ef3764fac55fec585ab1d3b75fa4c12/a59e9/webpack3.webp 192w,\n/static/8ef3764fac55fec585ab1d3b75fa4c12/0ca9f/webpack3.webp 384w,\n/static/8ef3764fac55fec585ab1d3b75fa4c12/bb95f/webpack3.webp 411w\"\n              sizes=\"(max-width: 411px) 100vw, 411px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/8ef3764fac55fec585ab1d3b75fa4c12/3b721/webpack3.png 192w,\n/static/8ef3764fac55fec585ab1d3b75fa4c12/66595/webpack3.png 384w,\n/static/8ef3764fac55fec585ab1d3b75fa4c12/4b2fe/webpack3.png 411w\"\n            sizes=\"(max-width: 411px) 100vw, 411px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/8ef3764fac55fec585ab1d3b75fa4c12/4b2fe/webpack3.png\"\n            alt=\"webpack3\"\n            title=\"webpack3\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span>\n세번째 방법인 Dynamic import는 필요할 때 동적으로 원하는 모듈 파일을 가져올 수도 있다.</p>\n<h3>tree-shaking</h3>\n<p>단어 그대로 나무를 흔들어 죽은 낙엽이나 가지를 떨어트리는 작업을 의미한다. 코드에서는 죽은 코드 제거, 즉 사용하지 않는 코드를 빌드 과정에서 제거하는 것을 의미한다.</p>\n<p>대부분의 프로젝트에서 여러 외부 모듈이나 패키지를 사용하는데, 보통 이런 외부 패키지의 모든 기능을 사용하지는 않는다. 이런 모든 모듈들이 번들 파일에 포함되면 불필요한 모듈까지 번들 파일에 포함되어 용량이 증가할 것이다. tree-shaking은 이런 문제를 해결해 줄 수 있는 방법이다.</p>\n<p>webpack5 이전까지는 tree-shaking을 적용하기 위해 ES2015의 import, export 했지만 webpack5부터는 완벽하진 않지만 CommonJS 모듈의 경우도 tree-shaking 가능하다.</p>\n<p>지금까지 알아본것 처럼 webpack은 단순한 번들러 역할을 넘어 code splitting, tree-shaking 등 최적화를 위한 다양한 기능을 제공한다. webpack 외에도 Parcel이나 Rollup 번들러도 많이 사용되고 있으며 esbuild 같은 모던 번들러도 주목 받고있다.</p>\n<blockquote>\n<p>참고<br>\n<a href=\"https://www.youtube.com/watch?v=zal9HVgrMaQ\" target=\"_blank\" rel=\"nofollow\">https://www.youtube.com/watch?v=zal9HVgrMaQ</a><br>\n기초부터 완성까지, 프런트엔드</p>\n</blockquote>","frontmatter":{"title":"webpack 알아보기","summary":"webpack, code splitting, tree-shaking","date":"January 6, 2024","categories":["webpack","js"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAMABQDASIAAhEBAxEB/8QAGgAAAQUBAAAAAAAAAAAAAAAAAAIEBQYHCf/EABcBAAMBAAAAAAAAAAAAAAAAAAABAwX/2gAMAwEAAhADEAAAAe0tF1dniUlhAj//xAAaEAACAwEBAAAAAAAAAAAAAAADBAACBQEG/9oACAEBAAEFAtZthJbK9RzSYhBjNUaSQbz/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAYEQACAwAAAAAAAAAAAAAAAAAQIRExUf/aAAgBAgEBPwFRT0f/xAAgEAADAAIBBQEBAAAAAAAAAAABAgMEEQUAEhMUITEQ/9oACAEBAAY/Ap3xklV/agjRrScRWTChqiXq6Rx6dqdy2sTNQrdynY642DHAx7XFp5WLHlOJ5Ohr6csrGtjNgZ9X9SpGWBTw0BEdu0tgt147TnVDolKzWiEj6CVcMuwfo+fD+dLSODhRogISksTHlRA2+4K6TVlDbOwCN7O/0/z/xAAZEAEBAQEBAQAAAAAAAAAAAAABESEAEEH/2gAIAQEAAT8h3RukuV5iHSIRzWHvMOay43mNU8jY1OCFa0h74QABwD2ds52vf//aAAwDAQACAAMAAAAQaM//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAZEQEBAQEBAQAAAAAAAAAAAAABIRFREDH/2gAIAQIBAT8QEoU1mvkwnNvZE3z/xAAaEAEAAgMBAAAAAAAAAAAAAAABABEQUaHR/9oACAEBAAE/EKONOCI6m5QZ58J8h8PKu/5Ac/E4oQgKIYBg9KSwprROkB30d9n/2Q=="},"images":{"fallback":{"src":"/static/2df6bd11efdc8de0ac54d805ca1ba1ab/97099/til.jpg","srcSet":"/static/2df6bd11efdc8de0ac54d805ca1ba1ab/d75cc/til.jpg 557w,\n/static/2df6bd11efdc8de0ac54d805ca1ba1ab/a3617/til.jpg 1113w,\n/static/2df6bd11efdc8de0ac54d805ca1ba1ab/97099/til.jpg 2226w","sizes":"(min-width: 2226px) 2226px, 100vw"},"sources":[{"srcSet":"/static/2df6bd11efdc8de0ac54d805ca1ba1ab/9e13a/til.webp 557w,\n/static/2df6bd11efdc8de0ac54d805ca1ba1ab/f9e0a/til.webp 1113w,\n/static/2df6bd11efdc8de0ac54d805ca1ba1ab/b09bd/til.webp 2226w","type":"image/webp","sizes":"(min-width: 2226px) 2226px, 100vw"}]},"width":2226,"height":1322}},"publicURL":"/static/2df6bd11efdc8de0ac54d805ca1ba1ab/til.jpg"}}}}]}},"pageContext":{"slug":"/webpack/"}},"staticQueryHashes":[]}